(function(){
  var app = angular.module('treatment', ['templates', 'ng-rails-csrf', 'ui.select']);
  
  app.controller('TreatmentController', ['$http','$filter','$scope','$timeout','odontogramService','endodonticService','periodonticService', function($http, $filter,$scope,$timeout,odontogramService,endodonticService,periodonticService) { 

    $scope.odontogramList = odontogramService.getOdontogram();
    $scope.endodonticDiagnosis = endodonticService.getDiagnosis();
    $scope.endodonticPiezaDental = endodonticService.getPiezaDental();
    $scope.periodonticDiagnosis = periodonticService.getDiagnosis();

    $scope.noSanos = function(tooth) {
      if (tooth.caracteristica == "ausente" || tooth.caracteristica == "extraccion" || tooth.diag_central == "caries" || tooth.diag_distal == "caries" || tooth.diag_mesial == "caries" || tooth.diag_palatina == "caries" || tooth.diag_vestibular == "caries"){
        return true;
      }
      return false;
    };

    $scope.enPresupuesto = function(tooth) {
     
      return true;
    };

  }]);
  app.directive('glosaEndo', function(){ 
    return {
      restrict: 'E',
      templateUrl: 'glosa-endo.html'
    }; 
  });


})();