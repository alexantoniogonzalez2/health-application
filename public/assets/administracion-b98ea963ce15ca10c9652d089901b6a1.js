function loadAtenciones(a){addSpinner("contenido-ver-atenciones-boleta"),$.ajax({type:"POST",url:"/cargar_atenciones_boleta",data:{boleta:a},success:function(){},error:function(){alert("Se produjo un error al cargar las atenciones.")}})}function anularBoleta(a){$.ajax({type:"POST",url:"/anular_boleta",data:{boleta:a},success:function(){var e=$("#lista_boletas").DataTable(),t=e.cell("#cell-"+a);t.data("Anulada").draw()},error:function(){alert("Se produjo un error al anular la boleta.")}})}$.fn.dataTable.isDataTable("#lista_atenciones_para_pago")||$("#lista_atenciones_para_pago").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"Todas"]],language:{lengthMenu:"Mostrar _MENU_ atenciones por p\xe1gina",zeroRecords:"La b\xfasqueda no arroj\xf3 resultados.",info:"Mostrando _START_ a _END_ de un total de _TOTAL_ atenciones de salud",infoEmpty:"No hay atenciones que mostrar",infoFiltered:"(filtrados de un total de _MAX_)",search:"B\xfasqueda",oPaginate:{sPrevious:"P\xe1gina anterior",sNext:"P\xe1gina siguiente"}}}),$.fn.dataTable.isDataTable("#lista_boletas")||$("#lista_boletas").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"Todas"]],columnDefs:[{targets:[0],visible:!1}],language:{lengthMenu:"Mostrar _MENU_ boletas por p\xe1gina",zeroRecords:"La b\xfasqueda no arroj\xf3 resultados.",info:"Mostrando _START_ a _END_ de un total de _TOTAL_ boletas",infoEmpty:"No hay boletas que mostrar",infoFiltered:"(filtrados de un total de _MAX_)",search:"B\xfasqueda",oPaginate:{sPrevious:"P\xe1gina anterior",sNext:"P\xe1gina siguiente"}}}),$.fn.dataTable.isDataTable("#lista_atenciones_para_pago_gen_bol")||$("#lista_atenciones_para_pago_gen_bol").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"Todas"]],columnDefs:[{targets:[0],visible:!1}],language:{lengthMenu:"Mostrar _MENU_ atenciones por p\xe1gina",zeroRecords:"La b\xfasqueda no arroj\xf3 resultados.",info:"Mostrando _START_ a _END_ de un total de _TOTAL_ atenciones de salud",infoEmpty:"No hay atenciones que mostrar",infoFiltered:"(filtrados de un total de _MAX_)",search:"B\xfasqueda",oPaginate:{sPrevious:"P\xe1gina anterior",sNext:"P\xe1gina siguiente"}},footerCallback:function(){var a=this.api(),e=function(a){return"string"==typeof a?1*a.replace(/[\$.]/g,""):"number"==typeof a?a:0},t=a.column(0).data().length;t>0&&(total=a.column(7).data().reduce(function(a,t){return e(a)+e(t)}),pageTotal=a.column(7,{search:"applied"}).data().reduce(function(a,t){return e(a)+e(t)},0),$(a.column(6).footer()).html("$ "+pageTotal.toLocaleString().replace(",",".")+" (de un total de $ "+total.toLocaleString().replace(",",".")+")"))}}),$(function(){$("#datetimepicker6").datetimepicker({locale:"es",format:"YYYY-MM-DD"}),$("#datetimepicker7").datetimepicker({locale:"es",format:"YYYY-MM-DD"}),$("#datetimepicker6").on("dp.change",function(a){$("#datetimepicker7").data("DateTimePicker").minDate(a.date)}),$("#datetimepicker7").on("dp.change",function(a){$("#datetimepicker6").data("DateTimePicker").maxDate(a.date)})}),$(document).ready(function(){$("#datetimepicker7").length>0&&$("#datetimepicker7").data("DateTimePicker").minDate(fecha_minima)}),$("input[type=radio][name=radios-boletas]").click(function(){var a=$("input[name=radios-boletas]:checked").val();$("#algunos_profesionales").modal(2==a?"show":"hide")}),$.fn.dataTable.isDataTable("#lista_boletas_profesional")||$("#lista_boletas_profesional").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"Todas"]],columnDefs:[{targets:[0],visible:!1}],language:{lengthMenu:"Mostrar _MENU_ boletas por p\xe1gina",zeroRecords:"La b\xfasqueda no arroj\xf3 resultados.",info:"Mostrando _START_ a _END_ de un total de _TOTAL_ boletas",infoEmpty:"No hay boletas que mostrar",infoFiltered:"(filtrados de un total de _MAX_)",search:"B\xfasqueda",oPaginate:{sPrevious:"P\xe1gina anterior",sNext:"P\xe1gina siguiente"}}}),$("#filtrar-atenciones").click(function(){var a=$("#fecha_inicio_boleta").val(),e=$("#fecha_hasta_boleta").val(),t=$("input[name=radios-boletas]:checked").val(),o=new Array;if(2==t){var n=$("#checkbox_profesionales").find(".childCheckBox");n.each(function(){this.checked&&o.push(this.id.substring(12))})}0==o.length&&2==t?alert("Seleccione un profesional."):""!=a||""!=e?("#msg_boletas".html(""),$.ajax({type:"POST",url:"/cargar_atenciones_salud_para_pago",data:{todos_profesionales:t,profesionales:o,fecha_inicio:a,fecha_final:e},success:function(a){var e=$("#lista_atenciones_para_pago_gen_bol").DataTable();e.clear().rows.add(a).draw()},error:function(){alert("Se produjo un error al cargar las atenciones para pago.")}})):alert("Seleccione un par\xe1metro de b\xfasqueda.")}),$("#generar-boletas").click(function(){var a=$("#lista_atenciones_para_pago_gen_bol").DataTable(),e=a.columns(0,{search:"applied"}).data()[0],t=$("#fecha_inicio_boleta").val(),o=$("#fecha_hasta_boleta").val();e.length>0?$.ajax({type:"POST",url:"/generar_boletas",data:{lista_atenciones:e,fecha_inicio:t,fecha_final:o},success:function(e){a.rows({search:"applied"}).remove().draw(),a.search("").draw();var t=$("#lista_boletas").DataTable();t.rows.add(e).draw(),$("#msg_boletas").html("Boletas creadas: "+e.length+' <a href="#ver_boletas" role="tab" data-toggle="tab">Ver boletas</a>')},error:function(){alert("Se produjo un error al cargar los antecedentes.")}}):alert("No hay atenciones para procesar.")}),$("input[type=radio][name=radios-ver-boletas]").click(function(){var a=$("input[name=radios-ver-boletas]:checked").val();$("#algunos_profesionales_ver_boletas").modal(2==a?"show":"hide")}),$(function(){$("#datetimepicker8").datetimepicker({locale:"es",format:"YYYY-MM-DD"}),$("#datetimepicker9").datetimepicker({locale:"es",format:"YYYY-MM-DD"}),$("#datetimepicker8").on("dp.change",function(a){$("#datetimepicker9").data("DateTimePicker").minDate(a.date)}),$("#datetimepicker9").on("dp.change",function(a){$("#datetimepicker8").data("DateTimePicker").maxDate(a.date)})}),$("#filtrar-boletas").click(function(){var a=$("#fecha_inicio_ver_boleta").val(),e=$("#fecha_hasta_ver_boleta").val(),t=$("input[name=radios-ver-boletas]:checked").val(),o=new Array;if(2==t){var n=$("#checkbox_profesionales_boletas").find(".childCheckBox");n.each(function(){this.checked&&o.push(this.id.substring(23))})}0==o.length&&2==t?alert("Seleccione un profesional."):""!=a||""!=e||1==t||2==t&&0!=o.length?$.ajax({type:"POST",url:"/filtrar_boletas",data:{todos_profesionales:t,profesionales:o,fecha_inicio:a,fecha_final:e},success:function(a){var e=$("#lista_boletas").DataTable();e.clear().rows.add(a).draw()},error:function(){alert("Se produjo un error al cargar las boletas.")}}):alert("Seleccione un par\xe1metro de b\xfasqueda.")});